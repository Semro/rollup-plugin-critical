"use strict";var p=Object.create;var s=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty;var b=(i,t)=>{for(var c in t)s(i,c,{get:t[c],enumerable:!0})},m=(i,t,c,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of P(t))!S.call(i,a)&&a!==c&&s(i,a,{get:()=>t[a],enumerable:!(r=C(t,a))||r.enumerable});return i};var j=(i,t,c)=>(c=i!=null?p(d(i)):{},m(t||!i||!i.__esModule?s(c,"default",{value:i,enumerable:!0}):c,i)),w=i=>m(s({},"__esModule",{value:!0}),i);var k={};b(k,{PluginCritical:()=>B});module.exports=w(k);var g=j(require("path")),u=require("critical"),x="_critical.min.css",y={inline:!1,extract:!1,width:1200,height:1200,penthouse:{blockJSRequests:!1}};function B(i,t){return{name:"critical",async writeBundle(c,r){let a=[];for(let e of Object.values(r))if(e.type==="asset"&&e.fileName.endsWith(".css")){let l=g.join(c.dir||"",e.fileName);a.push(l)}if(!!a.length)for(let e of i.criticalPages){let l=i.criticalBase,o=i.criticalUrl+e.uri,f=i.criticalConfig&&i.criticalConfig.inline==!0?e.template+".html":e.template+x,h=Object.assign({css:a},y,{base:l,src:o,target:f},i.criticalConfig);console.log(`Generating critical CSS from ${o} to ${f}`),await(0,u.generate)(h,n=>{n&&console.error(n),t&&t(n)})}}}}0&&(module.exports={PluginCritical});
//# sourceMappingURL=index.js.map