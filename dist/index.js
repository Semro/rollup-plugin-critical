"use strict";var C=Object.create;var s=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var w=(t,i)=>{for(var c in i)s(t,c,{get:i[c],enumerable:!0})},u=(t,i,c,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let a of d(i))!b.call(t,a)&&a!==c&&s(t,a,{get:()=>i[a],enumerable:!(r=P(i,a))||r.enumerable});return t};var g=(t,i,c)=>(c=t!=null?C(S(t)):{},u(i||!t||!t.__esModule?s(c,"default",{value:t,enumerable:!0}):c,t)),y=t=>u(s({},"__esModule",{value:!0}),t);var F={};w(F,{default:()=>k});module.exports=y(F);var m=g(require("path")),h;(async function(){h=(await import("critical")).generate})();var j="_critical.min.css",x={inline:!1,extract:!1,width:1200,height:1200,penthouse:{blockJSRequests:!1}};function B(t,i){return{name:"critical",async writeBundle(c,r){let a=[];for(let e of Object.values(r))if(e.type==="asset"&&e.fileName.endsWith(".css")){let n=m.join(c.dir||"",e.fileName);a.push(n)}if(!!a.length)for(let e of t.criticalPages){let n=t.criticalBase,o=t.criticalUrl+e.uri,f=t.criticalConfig&&t.criticalConfig.inline==!0?e.template+".html":e.template+j,p=Object.assign({css:a},x,{base:n,src:o,target:f},t.criticalConfig);console.log(`Generating critical CSS from ${o} to ${f}`),await h(p,l=>{l&&console.error(l),i&&i(l)})}}}}var k=B;0&&(module.exports={});
//# sourceMappingURL=index.js.map